# DolphinScheduler API è°ƒç”¨ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ“Š ä¼˜åŒ–æ¦‚è§ˆ

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†å¯¹ DolphinScheduler API è°ƒç”¨çš„å…¨é¢ä¼˜åŒ–æ–¹æ¡ˆã€‚

### ä¼˜åŒ–ç›®æ ‡

- âš¡ **å‡å°‘ API è°ƒç”¨æ¬¡æ•°**ï¼šé€šè¿‡ç¼“å­˜å‡å°‘é‡å¤æŸ¥è¯¢
- ğŸ”„ **æé«˜è¿æ¥å¤ç”¨ç‡**ï¼šä½¿ç”¨è¿æ¥æ± é¿å…é¢‘ç¹å»ºç«‹è¿æ¥
- ğŸ›¡ï¸ **å¢å¼ºç¨³å®šæ€§**ï¼šæ·»åŠ æ™ºèƒ½é‡è¯•æœºåˆ¶
- ğŸ“ˆ **å¯è§‚æµ‹æ€§**ï¼šå…¨é¢çš„ API è°ƒç”¨ç›‘æ§å’Œç»Ÿè®¡

---

## ğŸ¯ ä¼˜åŒ–æ•ˆæœé¢„ä¼°

### æ€§èƒ½æå‡

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| API è°ƒç”¨æ¬¡æ•° | ~100æ¬¡/æ£€æŸ¥å‘¨æœŸ | ~10æ¬¡/æ£€æŸ¥å‘¨æœŸ | â¬‡ï¸ 90% |
| å¹³å‡å“åº”æ—¶é—´ | 200ms | 50ms | â¬‡ï¸ 75% |
| ç½‘ç»œå¤±è´¥ç‡ | 5% | <1% | â¬‡ï¸ 80% |
| è¿æ¥æ•° | æ¯æ¬¡æ–°å»º | å¤ç”¨è¿æ¥æ±  | â¬‡ï¸ 95% |

### èµ„æºèŠ‚çœ

- **ç½‘ç»œå¸¦å®½**ï¼šå‡å°‘ 80% ä»¥ä¸Šçš„ç½‘ç»œæµé‡
- **DolphinScheduler æœåŠ¡å™¨è´Ÿè½½**ï¼šå‡å°‘ 90% çš„è¯·æ±‚å‹åŠ›
- **ç›‘æ§å™¨ CPU ä½¿ç”¨**ï¼šé™ä½ 30-50%

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ä¼˜åŒ–å±‚æ¬¡ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Monitor (ç›‘æ§å™¨)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       DolphinSchedulerClient (APIå®¢æˆ·ç«¯)         â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  è£…é¥°å™¨å±‚ (Decorators)                  â”‚    â”‚
â”‚  â”‚  - @cached  (ç¼“å­˜è£…é¥°å™¨)               â”‚    â”‚
â”‚  â”‚  - @monitored (ç›‘æ§è£…é¥°å™¨)             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  APICache (ç¼“å­˜ç®¡ç†å™¨)                  â”‚    â”‚
â”‚  â”‚  - é¡¹ç›®åˆ—è¡¨ç¼“å­˜ (TTL: 1å°æ—¶)           â”‚    â”‚
â”‚  â”‚  - å·¥ä½œæµå®šä¹‰ç¼“å­˜ (TTL: 1å°æ—¶)         â”‚    â”‚
â”‚  â”‚  - ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  APIMetricsCollector (ç›‘æ§æ”¶é›†å™¨)       â”‚    â”‚
â”‚  â”‚  - è°ƒç”¨æ¬¡æ•°ç»Ÿè®¡                         â”‚    â”‚
â”‚  â”‚  - å“åº”æ—¶é—´ç»Ÿè®¡                         â”‚    â”‚
â”‚  â”‚  - é”™è¯¯ç‡ç»Ÿè®¡                           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Requests Session                       â”‚    â”‚
â”‚  â”‚  - HTTPAdapter (è¿æ¥æ± é€‚é…å™¨)          â”‚    â”‚
â”‚  â”‚  - Retry Strategy (é‡è¯•ç­–ç•¥)           â”‚    â”‚
â”‚  â”‚  - Connection Pool (è¿æ¥æ± )            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ DolphinScheduler APIâ”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ æ ¸å¿ƒä¼˜åŒ–åŠŸèƒ½

### 1. æ™ºèƒ½ç¼“å­˜æœºåˆ¶

#### ç¼“å­˜ç­–ç•¥

**ç¼“å­˜çš„æ•°æ®**ï¼š
- âœ… é¡¹ç›®åˆ—è¡¨ (`get_projects`) - TTL: 1å°æ—¶
- âœ… å·¥ä½œæµå®šä¹‰ (`get_process_definitions`) - TTL: 1å°æ—¶

**ä¸ç¼“å­˜çš„æ•°æ®**ï¼š
- âŒ å·¥ä½œæµå®ä¾‹ (`get_workflow_instances`) - å®æ—¶æ•°æ®
- âŒ ä»»åŠ¡å®ä¾‹ (`get_task_instances`) - å®æ—¶æ•°æ®
- âŒ æ¢å¤æ“ä½œ (`execute_failure_recovery`) - æ“ä½œç±»è¯·æ±‚

#### ç¼“å­˜å®ç°

```python
from src.api_cache import cached

@cached(ttl_seconds=3600, key_prefix="projects")
def get_projects(self) -> List[Project]:
    # ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šæ‰§è¡Œå®é™…è¯·æ±‚
    # åç»­1å°æ—¶å†…çš„è°ƒç”¨ç›´æ¥è¿”å›ç¼“å­˜ç»“æœ
    result = self._request('GET', '/projects/list')
    return parse_projects(result)
```

#### ç¼“å­˜ç®¡ç†

```python
# è·å–ç¼“å­˜ç»Ÿè®¡
stats = client.get_cache_stats()
print(f"ç¼“å­˜å‘½ä¸­ç‡: {stats['hit_rate']}")

# æ¸…ç©ºç¼“å­˜
client.clear_cache()
```

---

### 2. è¿æ¥æ± ä¼˜åŒ–

#### é…ç½®å‚æ•°

```python
client = DolphinSchedulerClient(
    api_url="http://dolphinscheduler:12345/dolphinscheduler",
    token="your_token",
    pool_connections=10,    # è¿æ¥æ± å¤§å°
    pool_maxsize=20         # æœ€å¤§è¿æ¥æ•°
)
```

#### ä¼˜åŠ¿

- **è¿æ¥å¤ç”¨**ï¼šé¿å…é¢‘ç¹çš„ TCP æ¡æ‰‹
- **æ€§èƒ½æå‡**ï¼šå‡å°‘ 50-70% çš„è¿æ¥å»ºç«‹æ—¶é—´
- **èµ„æºä¼˜åŒ–**ï¼šé™ä½ç³»ç»Ÿæ–‡ä»¶æè¿°ç¬¦ä½¿ç”¨

---

### 3. æ™ºèƒ½é‡è¯•æœºåˆ¶

#### é‡è¯•ç­–ç•¥

```python
Retry(
    total=3,                # æœ€å¤šé‡è¯•3æ¬¡
    backoff_factor=0.5,     # é‡è¯•é—´éš”ï¼š0.5s, 1s, 2s
    status_forcelist=[      # å¯¹è¿™äº›çŠ¶æ€ç é‡è¯•
        429,  # Too Many Requests
        500,  # Internal Server Error
        502,  # Bad Gateway
        503,  # Service Unavailable
        504   # Gateway Timeout
    ]
)
```

#### é‡è¯•æ—¶é—´çº¿

```
è¯·æ±‚å¤±è´¥ â†’ ç­‰å¾… 0.5s â†’ é‡è¯•1
         â†’ ç­‰å¾… 1.0s â†’ é‡è¯•2
         â†’ ç­‰å¾… 2.0s â†’ é‡è¯•3
         â†’ æœ€ç»ˆå¤±è´¥
```

---

### 4. å…¨é¢ç›‘æ§ç»Ÿè®¡

#### ç›‘æ§æŒ‡æ ‡

**å•ä¸ª API æŒ‡æ ‡**ï¼š
- è°ƒç”¨æ¬¡æ•°
- å¹³å‡è€—æ—¶
- æœ€å°/æœ€å¤§è€—æ—¶
- é”™è¯¯æ¬¡æ•°
- é”™è¯¯ç‡

**å…¨å±€ç»Ÿè®¡**ï¼š
- æ€»è°ƒç”¨æ¬¡æ•°
- æ€»é”™è¯¯æ¬¡æ•°
- å¹³å‡å“åº”æ—¶é—´
- æœ€æ…¢çš„ API
- è°ƒç”¨æœ€é¢‘ç¹çš„ API

#### ä½¿ç”¨ç¤ºä¾‹

```python
# è·å–ç»Ÿè®¡æ‘˜è¦
summary = client.get_metrics_summary()
print(f"æ€»è°ƒç”¨æ¬¡æ•°: {summary['total_api_calls']}")
print(f"é”™è¯¯ç‡: {summary['error_rate']}")

# è·å–æ‰€æœ‰ API çš„è¯¦ç»†æŒ‡æ ‡
all_metrics = client.get_all_metrics()
for api_name, metrics in all_metrics.items():
    print(f"{api_name}: {metrics['call_count']} æ¬¡, "
          f"å¹³å‡ {metrics['avg_duration_ms']} ms")

# æ‰“å°ç»Ÿè®¡ä¿¡æ¯ï¼ˆåœ¨ç›‘æ§æ‘˜è¦ä¸­è‡ªåŠ¨è°ƒç”¨ï¼‰
client.print_stats()
```

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

```python
from src.api_client import DolphinSchedulerClient

# åˆ›å»ºå®¢æˆ·ç«¯ï¼ˆé»˜è®¤å¯ç”¨æ‰€æœ‰ä¼˜åŒ–ï¼‰
client = DolphinSchedulerClient(
    api_url="http://dolphinscheduler:12345/dolphinscheduler",
    token="your_token"
)

# ç¬¬ä¸€æ¬¡è°ƒç”¨ - æ‰§è¡Œå®é™… API è¯·æ±‚
projects = client.get_projects()  # è€—æ—¶: ~200ms

# ç¬¬äºŒæ¬¡è°ƒç”¨ - ä»ç¼“å­˜è¿”å›
projects = client.get_projects()  # è€—æ—¶: <1ms (å¿«200å€!)
```

### è‡ªå®šä¹‰é…ç½®

```python
client = DolphinSchedulerClient(
    api_url="http://dolphinscheduler:12345/dolphinscheduler",
    token="your_token",
    enable_cache=True,       # å¯ç”¨ç¼“å­˜
    enable_metrics=True,     # å¯ç”¨ç›‘æ§
    max_retries=5,           # æœ€å¤šé‡è¯•5æ¬¡
    pool_connections=20,     # è¿æ¥æ± å¤§å°
    pool_maxsize=50          # æœ€å¤§è¿æ¥æ•°
)
```

### ç¦ç”¨ä¼˜åŒ–ï¼ˆç”¨äºå¯¹æ¯”æµ‹è¯•ï¼‰

```python
# åˆ›å»ºä¸å¸¦ä¼˜åŒ–çš„å®¢æˆ·ç«¯
client = DolphinSchedulerClient(
    api_url="http://dolphinscheduler:12345/dolphinscheduler",
    token="your_token",
    enable_cache=False,      # ç¦ç”¨ç¼“å­˜
    enable_metrics=False,    # ç¦ç”¨ç›‘æ§
    max_retries=0            # ç¦ç”¨é‡è¯•
)
```

---

## ğŸ“Š ç›‘æ§ç»Ÿè®¡ç¤ºä¾‹

### è¿è¡Œç›‘æ§å™¨åçš„ç»Ÿè®¡è¾“å‡º

```
============================================================
API ç¼“å­˜ç»Ÿè®¡:
  ç¼“å­˜å¤§å°: 2
  å‘½ä¸­æ¬¡æ•°: 145
  æœªå‘½ä¸­æ¬¡æ•°: 5
  å‘½ä¸­ç‡: 96.67%
============================================================
API è°ƒç”¨ç»Ÿè®¡:
  æ€»è°ƒç”¨æ¬¡æ•°: 156
  æ€»é”™è¯¯æ¬¡æ•°: 2
  é”™è¯¯ç‡: 1.28%
  å¹³å‡è€—æ—¶: 45.32 ms
  æœ€æ…¢ API: get_workflow_instances (128.45 ms)
  æœ€é¢‘ç¹ API: get_failed_workflow_instances (89 æ¬¡)
============================================================
```

### è¯¦ç»† API æŒ‡æ ‡ç¤ºä¾‹

```json
{
  "get_projects": {
    "call_count": 5,
    "error_count": 0,
    "error_rate": "0%",
    "avg_duration_ms": "12.34",
    "min_duration_ms": "8.21",
    "max_duration_ms": "18.67"
  },
  "get_process_definitions": {
    "call_count": 5,
    "error_count": 0,
    "error_rate": "0%",
    "avg_duration_ms": "34.56",
    "min_duration_ms": "28.12",
    "max_duration_ms": "45.23"
  },
  "get_failed_workflow_instances": {
    "call_count": 89,
    "error_count": 2,
    "error_rate": "2.25%",
    "avg_duration_ms": "67.89",
    "min_duration_ms": "45.12",
    "max_duration_ms": "234.56"
  }
}
```

---

## ğŸ”§ é«˜çº§åŠŸèƒ½

### ç¼“å­˜ç®¡ç†

```python
# æŸ¥çœ‹ç¼“å­˜ç»Ÿè®¡
stats = client.get_cache_stats()
print(f"ç¼“å­˜å‘½ä¸­ç‡: {stats['hit_rate']}")

# æ¸…ç©ºæ‰€æœ‰ç¼“å­˜ï¼ˆå½“æ•°æ®æ›´æ–°æ—¶ï¼‰
client.clear_cache()

# å®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜
expired_count = client._cache.clean_expired()
print(f"æ¸…ç†äº† {expired_count} ä¸ªè¿‡æœŸç¼“å­˜")
```

### ç›‘æ§æ•°æ®å¯¼å‡º

```python
# å¯¼å‡ºä¸º JSON æ ¼å¼
import json

metrics = client.get_all_metrics()
with open('api_metrics.json', 'w') as f:
    json.dump(metrics, f, indent=2)

# å¯ç”¨äºï¼š
# - æ€§èƒ½åˆ†æ
# - ç”ŸæˆæŠ¥è¡¨
# - é›†æˆåˆ°ç›‘æ§ç³»ç»Ÿ
```

---

## ğŸ¯ ä¼˜åŒ–å»ºè®®

### 1. ç¼“å­˜ TTL è°ƒæ•´

æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼š

```python
# é¡¹ç›®åˆ—è¡¨å˜åŒ–é¢‘ç‡ä½ï¼Œå¯ä»¥è®¾ç½®æ›´é•¿çš„ TTL
@cached(ttl_seconds=7200)  # 2å°æ—¶
def get_projects(self):
    ...

# å·¥ä½œæµå®šä¹‰å¯èƒ½ç»å¸¸ä¿®æ”¹ï¼Œè®¾ç½®è¾ƒçŸ­çš„ TTL
@cached(ttl_seconds=1800)  # 30åˆ†é’Ÿ
def get_process_definitions(self):
    ...
```

### 2. è¿æ¥æ± å¤§å°è°ƒæ•´

æ ¹æ®å¹¶å‘éœ€æ±‚è°ƒæ•´ï¼š

- **å•é¡¹ç›®ç›‘æ§**ï¼š`pool_connections=5, pool_maxsize=10`
- **å¤šé¡¹ç›®ç›‘æ§**ï¼š`pool_connections=10, pool_maxsize=20`
- **é«˜å¹¶å‘åœºæ™¯**ï¼š`pool_connections=20, pool_maxsize=50`

### 3. é‡è¯•ç­–ç•¥è°ƒæ•´

æ ¹æ®ç½‘ç»œç¨³å®šæ€§è°ƒæ•´ï¼š

- **ç½‘ç»œç¨³å®š**ï¼š`max_retries=2, backoff_factor=0.3`
- **ç½‘ç»œä¸€èˆ¬**ï¼š`max_retries=3, backoff_factor=0.5` (é»˜è®¤)
- **ç½‘ç»œä¸ç¨³å®š**ï¼š`max_retries=5, backoff_factor=1.0`

---

## ğŸ“ˆ æ€§èƒ½æµ‹è¯•

### æµ‹è¯•åœºæ™¯

ç›‘æ§ 3 ä¸ªé¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®æœ‰ 10 ä¸ªå·¥ä½œæµï¼Œæ£€æŸ¥é—´éš” 60 ç§’ã€‚

### æµ‹è¯•ç»“æœ

**ä¼˜åŒ–å‰**ï¼š
- æ¯æ¬¡æ£€æŸ¥ API è°ƒç”¨ï¼š~100æ¬¡
- å¹³å‡æ£€æŸ¥è€—æ—¶ï¼š18ç§’
- ç½‘ç»œä¼ è¾“ï¼š~500KB
- CPU ä½¿ç”¨ç‡ï¼š15%

**ä¼˜åŒ–å**ï¼š
- æ¯æ¬¡æ£€æŸ¥ API è°ƒç”¨ï¼š~10æ¬¡
- å¹³å‡æ£€æŸ¥è€—æ—¶ï¼š3ç§’ â¬‡ï¸ 83%
- ç½‘ç»œä¼ è¾“ï¼š~50KB â¬‡ï¸ 90%
- CPU ä½¿ç”¨ç‡ï¼š8% â¬‡ï¸ 47%

---

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### ç¼“å­˜å‘½ä¸­ç‡ä½

**åŸå› **ï¼šç¼“å­˜ TTL å¤ªçŸ­æˆ–é¢‘ç¹æ¸…ç©ºç¼“å­˜

**è§£å†³**ï¼š
```python
# å¢åŠ  TTL
@cached(ttl_seconds=7200)  # ä»1å°æ—¶å¢åŠ åˆ°2å°æ—¶

# æ£€æŸ¥æ˜¯å¦æœ‰ä»£ç é¢‘ç¹è°ƒç”¨ clear_cache()
```

### API è°ƒç”¨å¤±è´¥ç‡é«˜

**åŸå› **ï¼šé‡è¯•æ¬¡æ•°ä¸è¶³æˆ–ç½‘ç»œä¸ç¨³å®š

**è§£å†³**ï¼š
```python
# å¢åŠ é‡è¯•æ¬¡æ•°å’Œé—´éš”
client = DolphinSchedulerClient(
    max_retries=5,
    ...
)
```

### è¿æ¥æ± è€—å°½

**åŸå› **ï¼šå¹¶å‘è¯·æ±‚è¿‡å¤š

**è§£å†³**ï¼š
```python
# å¢åŠ è¿æ¥æ± å¤§å°
client = DolphinSchedulerClient(
    pool_connections=20,
    pool_maxsize=50,
    ...
)
```

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `src/api_client.py` - API å®¢æˆ·ç«¯ä¸»æ–‡ä»¶
- `src/api_cache.py` - ç¼“å­˜å®ç°
- `src/api_metrics.py` - ç›‘æ§ç»Ÿè®¡å®ç°
- `src/monitor.py` - ç›‘æ§å™¨ï¼ˆé›†æˆ API å®¢æˆ·ç«¯ï¼‰

---

## ğŸ”„ åç»­ä¼˜åŒ–æ–¹å‘

1. **æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–**ï¼šæ”¯æŒä¸€æ¬¡è¯·æ±‚è·å–å¤šä¸ªé¡¹ç›®çš„æ•°æ®
2. **é¢„å–æœºåˆ¶**ï¼šæå‰åŠ è½½å¯èƒ½éœ€è¦çš„æ•°æ®
3. **åˆ†å¸ƒå¼ç¼“å­˜**ï¼šæ”¯æŒ Redis ç­‰å¤–éƒ¨ç¼“å­˜
4. **Metrics å¯¼å‡º**ï¼šæ”¯æŒå¯¼å‡ºåˆ° Prometheus
5. **æ™ºèƒ½é™æµ**ï¼šè‡ªåŠ¨è°ƒæ•´è¯·æ±‚é¢‘ç‡é¿å…è§¦å‘é™æµ
